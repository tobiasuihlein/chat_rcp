{% extends "recipe_app/layout.html" %}

{% load static %}

{% block extra_css%}
    <link rel="stylesheet" href="{% static 'registration/css/styles.css' %}">
{% endblock extra_css%}

{% block main-content %}

<div class="container">
    <h2>Following</h2>
    <div class="user-list">
        {% for user in following %}
            <div class="user-item">
                <span class="username">{{ user.username }}</span>
                {% if user != request.user %}
                    <button class="follow-btn" 
                            data-user-id="{{ user.id }}"
                            data-following="{{ request.user.profile.is_following|yesno:'true,false' }}">
                        {% if request.user.profile.is_following %}
                            Unfollow
                        {% else %}
                            Follow
                        {% endif %}
                    </button>
                {% endif %}
            </div>
        {% empty %}
            <p>Not following anyone yet</p>
        {% endfor %}
    </div>
</div>

{% endblock %}