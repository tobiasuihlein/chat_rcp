{% extends "./layout.html" %}

{% load static %}

{% load number_converter %}


{% block main-content %}

<div class="row-wrapper section-row" style="margin-top: 0;">
    <div class="row-content">
        <div class="widget">
            <span style="font-weight: 600; font-size: 2rem;">Recipe List</span>
        </div>
    </div>
</div>

<div class="row-wrapper section-row">
    <div class="row-content">
        {% for preview in recipes %}
        
        <a href="{% url 'recipes:detail' pk=preview.id %}" class="preview-card-form">
            <button>
                <div class="widget card">
                    <div class="card-recipe-container">
                        <div class="recipe-properties-container">
                            <div class="recipe-difficulty recipe-difficulty-{{ preview.difficulty }}">{{ preview.get_difficulty_display }}</div>
                            <div class="recipe-time">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-timer"><line x1="10" x2="14" y1="2" y2="2"/><line x1="12" x2="15" y1="14" y2="11"/><circle cx="12" cy="14" r="8"/></svg>
                                {{ preview.time_total|time_converter}}
                            </div>
                        </div>
                        <div class="title">{{ preview.title }}</div>
                        <div class="description">{{ preview.description }}</div>
                        <div class="main-ingredients"><span style="font-weight: 400">Hauptzutaten:</span><br>
                            <span>
                                {% for main_ingredient in preview.main_ingredients.all %}
                                    {{ main_ingredient.ingredient.name }}{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                            </span>
                        </div>
                        <div class="additional-ingredients"><span style="font-weight: 400">Weitere Zutaten:</span><br>
                            <span>
                                {% for additional_ingredient in preview.additional_ingredients.all %}
                                    {{ additional_ingredient.ingredient.name }}{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                            </span>
                        </div>
                    </div>
                </div>
            </button>
        </a>
        {% endfor %} 
    </div>
</div>

{% block javascript %}

{% endblock %}

{% endblock main-content %}
